{"componentChunkName":"component---packages-gatsby-theme-kenny-blog-core-src-templates-post-query-tsx","path":"/understanding-http-status-codes-200-and-304-nginx-configuration-example-and-explanation","result":{"data":{"post":{"__typename":"MdxPost","id":"f958467e-3872-5128-950e-62042b23d499","slug":"/understanding-http-status-codes-200-and-304-nginx-configuration-example-and-explanation","title":"Understanding HTTP Status Codes 200 and 304 - Nginx Configuration Example and Explanation","date":"31.01.2024","tags":[{"name":"DevOps","slug":"dev-ops"}],"description":"This article delves into understanding the differences between HTTP status codes 200 and 304, and provides a detailed exploration of configuring them effectively using Nginx. While HTTP 200 indicates a successful request, 304 signifies that the resource hasn't been modified. The article also offers examples of managing these codes efficiently with Nginx.","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Understanding HTTP Status Codes 200 and 304 - Nginx Configuration Example and Explanation\",\n  \"date\": \"2024-01-31T00:00:00.000Z\",\n  \"description\": \"This article delves into understanding the differences between HTTP status codes 200 and 304, and provides a detailed exploration of configuring them effectively using Nginx. While HTTP 200 indicates a successful request, 304 signifies that the resource hasn't been modified. The article also offers examples of managing these codes efficiently with Nginx.\",\n  \"banner\": \"../_images/200and304.webp\",\n  \"tags\": [\"DevOps\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"100%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/webp;base64,UklGRtAAAABXRUJQVlA4IMQAAAAwBQCdASoUABQAPtFgqU+oJSOiKAgBABoJYgCdMuN14IABGg+gcwVNxHVQMY6sK0AKyAD+9J1HsW9em8rzQVKXBRQy3EpIDknf8y7+ULbt/QDbO9oKZhaS517XroagVeI1UXMqwzje+z8JAUoVLCyR3kOrsnmagWcl0XqP/IDixEH+hzRuUAL7wDoubrlRxbH1+BwDSDHqiVED5ugPZC5HvrPMQ3XDi3jhIohV5WgtXzPc1ogIC6HGW/wk7ieoMWe4HeAA')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"200 or 304\",\n    \"title\": \"200 or 304\",\n    \"src\": \"/static/009bde88586deadb51e815e64e315e4b/10c02/200and304.webp\",\n    \"srcSet\": [\"/static/009bde88586deadb51e815e64e315e4b/cbea2/200and304.webp 240w\", \"/static/009bde88586deadb51e815e64e315e4b/42669/200and304.webp 480w\", \"/static/009bde88586deadb51e815e64e315e4b/10c02/200and304.webp 960w\", \"/static/009bde88586deadb51e815e64e315e4b/44907/200and304.webp 1024w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n    \"), \"\\nYou may have experienced receiving response codes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"304\"), \" when requesting images from a web browser. HTTP status codes play a crucial role in understanding and indicating the state of communication between web servers and clients. Particularly, status codes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"304\"), \" are pivotal in facilitating efficient communication between clients and servers. This article aims to delve into the differences between HTTP status codes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"304\"), \", and provide a detailed explanation along with an example of configuring them using Nginx.\"), mdx(\"h3\", null, \"HTTP Status Codes 200 and 304\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" OK: The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTTP 200\"), \" response code indicates that the client's request \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"has been successfully processed\"), \". In this case, the server acknowledges the client's request and successfully returns the requested resource. However, you might often receive this code accompanied by a message like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"served from memory cache.\"), \" This signifies that the server provided the requested resource directly from memory cache without actually reading it from disk. This enables faster responses to clients and reduces server load.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"304\"), \" Not Modified: This status code indicates that the resource the client previously requested \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"has not been modified\"), \". It signifies that the client already holds a cached version of the resource and that no new request to the server is necessary. Thus, the server informs the client that there have been no changes, allowing the client to continue using the cached resource.\"))), mdx(\"h3\", null, \"Nginx Configuration Example and Explanation\"), mdx(\"p\", null, \"To appropriately handle these status codes using Nginx, several measures need to be taken within the configuration file.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"http {\\n    # Image caching configuration\\n    proxy_cache_path /var/cache/nginx/images levels=1:2 keys_zone=images_cache:10m max_size=10g inactive=60m use_temp_path=off;\\n\\n    server {\\n        listen 80;\\n        server_name example.com;\\n\\n        location /images/ {\\n            # Enable image caching\\n            proxy_cache images_cache;\\n            proxy_cache_valid 200 304 1d;  # Keep 200 and 304 responses cached for 1 day\\n            proxy_cache_use_stale updating error timeout invalid_header http_500 http_502 http_503 http_504;\\n\\n            # Add header indicating cached image\\n            add_header X-Cached $upstream_cache_status;\\n\\n            # Proxy image requests\\n            proxy_pass http://backend_server;\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"In the provided configuration:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"proxy_cache_path\"), \" directive specifies the storage location and related settings for image caching.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"proxy_cache\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"proxy_cache_valid\"), \" directives enable image caching and set the duration for keeping responses with 200 and 304 status codes in the cache.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"proxy_cache_use_stale\"), \" directive ensures that stale cached data triggers a background request when expired.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"add_header X-Cached $upstream_cache_status;\"), \" directive adds a header indicating whether the image was served from the cache.\")), mdx(\"p\", null, \"With these settings, Nginx can cache images and efficiently serve responses to client requests, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"thereby conserving bandwidth and reducing server load\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"\nYou may have experienced receiving response codes  200  or  304  when requesting images from a web browser. HTTP status codes play aâ€¦","timeToRead":1,"banner":{"childImageSharp":{"resize":{"src":"/static/009bde88586deadb51e815e64e315e4b/a7c53/200and304.webp"}}}}},"pageContext":{"slug":"/understanding-http-status-codes-200-and-304-nginx-configuration-example-and-explanation"}},"staticQueryHashes":["1386366609","1386366609","1580740877"]}